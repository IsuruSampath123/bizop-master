<section class="content-header">
    <h3>
        Manage Stores
        <small>Control panel</small>
    </h3>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Manage Stores</li>
    </ol>
</section>


<section class="content">
    <form [formGroup]="myForm" (ngSubmit)="saveOrEdit(myForm.value)">


        <div class="col-md-6">

            <div class="col-md-12 cardWidget">


                <div class="widget-comp row">
                    <div class="col-md-6 cardWidget" [hidden]="true">
                        <mat-form-field>
                            <input matInput id="id" name="id" (ngModelChange)="SetCombo($event,selected?.storeTypeId)" [ngModel]="selected?.id" formControlName="id" value="{{selected != null && selected.id != 0 ? selected.id:''}}" placeholder="Area Id">
                        </mat-form-field>
                    </div>
                    <div class="widget-header col-lg-12 col-md-12- col-sm-12 col-xs-12">
                        <div class="widget-header-button-comp pull-right">
                            <div class="button-row">
                                <button mat-icon-button type="submit" [disabled]=" !(selected != null && selected.id != 0) || !(myForm.valid ) ">
        <mat-icon>edit</mat-icon>
      </button>
                                <button mat-icon-button type="button" (click)="convert()">
        <mat-icon>print</mat-icon>
      </button>

                                <button mat-icon-button type="button" (click)="addNew()">
        <mat-icon>add</mat-icon>
      </button>
                            </div>
                        </div>
                    </div>
                    <div class="widget-content col-lg-12 col-md-12- col-sm-12 col-xs-12">

                        <div class="col-md-6 cardWidget">
                            <mat-form-field>
                                <input matInput id="genaratedId" name="genaratedId" [ngModel]="selected?.genaratedId" readonly="true" formControlName="genaratedId" value="{{selected != null && selected.genaratedId != 0 ? selected.genaratedId:''}}" placeholder="Area Id">
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput id="storeName" name="storeName" [ngModel]="selected?.storeName" formControlName="storeName" value="{{selected != null && selected.storeName != 0 ? selected.storeName:''}}" placeholder="Store Name">
                            </mat-form-field>


                            <mat-form-field>
                                <input matInput id="addressLine1" name="addressLine1" [ngModel]="selected?.addressLine1" formControlName="addressLine1" value="{{selected != null && selected.addressLine1 != 0 ? selected.addressLine1:''}}" placeholder="Address Line 1">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput id="addressLine2" name="addressLine2" [ngModel]="selected?.addressLine2" formControlName="addressLine2" value="{{selected != null && selected.addressLine2 != 0 ? selected.addressLine2:''}}" placeholder="Address Line 2">
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput id="addressLine3" name="addressLine3" [ngModel]="selected?.addressLine3" formControlName="addressLine3" value="{{selected != null && selected.addressLine3 != 0 ? selected.addressLine3:''}}" placeholder="Address Line 3">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput id="addressLine4" name="addressLine4" [ngModel]="selected?.addressLine4" formControlName="addressLine4" value="{{selected != null && selected.addressLine4 != 0 ? selected.addressLine4:''}}" placeholder="Address Line 4">
                            </mat-form-field>


                            <mat-form-field>
                                <input matInput id="contactPerson" name="contactPerson" [ngModel]="selected?.contactPerson" formControlName="contactPerson" value="{{selected != null && selected.contactPerson != 0 ? selected.contactPerson:''}}" placeholder="Contact Person">
                            </mat-form-field>


                            <mat-form-field>
                                <input matInput id="contactPersonImage" name="contactPersonImage" [ngModel]="selected?.contactPersonImage" formControlName="contactPersonImage" value="{{selected != null && selected.contactPersonImage != 0 ? selected.contactPersonImage:''}}" placeholder="ContactPerson Image">
                            </mat-form-field>


                        </div>
                        <div class="col-md-6 cardWidget">
                            <mat-form-field>

                                <mat-select [value]="jacktester" [ngModel]="selected?.storeTypeId" placeholder="Store Type" id="storeTypeId" name="storeTypeId" formControlName="storeTypeId">
                                    <mat-option *ngFor="let jack of this.allItemtypeOptions" value={{jack.value}}>{{jack.label}}</mat-option>

                                </mat-select>


                            </mat-form-field>
                            <mat-form-field>
                                <input matInput id="storeKeeper" name="storeKeeper" [ngModel]="selected?.storeKeeper" formControlName="storeKeeper" value="{{selected != null && selected.storeKeeper != 0 ? selected.storeKeeper:''}}" placeholder="Store Keeper">
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput id="helper1" name="helper1" [ngModel]="selected?.helper1" formControlName="helper1" value="{{selected != null && selected.helper1 != 0 ? selected.helper1:''}}" placeholder="Helper 1">
                            </mat-form-field>


                            <mat-form-field>
                                <input matInput id="helper2" name="helper2" [ngModel]="selected?.helper2" formControlName="helper2" value="{{selected != null && selected.helper2 != 0 ? selected.helper2:''}}" placeholder="Helper 2">
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput id="helper3" name="helper3" [ngModel]="selected?.helper3" formControlName="helper3" value="{{selected != null && selected.helper3 != 0 ? selected.helper3:''}}" placeholder="Helper 3">
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput id="telephoneNumber" name="telephoneNumber" [ngModel]="selected?.telephoneNumber" formControlName="telephoneNumber" value="{{selected != null && selected.telephoneNumber != 0 ? selected.telephoneNumber:''}}" placeholder="Telephone Number">
                            </mat-form-field>


                            <mat-form-field>
                                <input matInput id="contactPersonTelephone" name="contactPersonTelephone" [ngModel]="selected?.contactPersonTelephone" formControlName="contactPersonTelephone" value="{{selected != null && selected.contactPersonTelephone != 0 ? selected.contactPersonTelephone:''}}"
                                    placeholder="ContactPerson Telephone">
                            </mat-form-field>


                            <mat-form-field>
                                <input matInput id="gpsLocation" name="gpsLocation" [ngModel]="selected?.gpsLocation" formControlName="gpsLocation" value="{{selected != null && selected.gpsLocation != 0 ? selected.gpsLocation:''}}" placeholder="GPS Location">
                            </mat-form-field>
                        </div>
                        <div class="button-footer">
                            <div class="button-row">
                                <button mat-raised-button color="warn" type="button" (click)="deleteById(selected.id)" [disabled]="selected == null || selected.id == 0">Delete</button>

                                <button mat-raised-button color="primary" type="submit" [disabled]="(!myForm.valid ) || (selected != null && selected.id != 0)">Save</button>

                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="col-md-12 cardWidget">
                <div class="widget-comp row">



                    <div class="widget-content col-lg-12 col-md-12- col-sm-12 col-xs-12">


                        <div class="box-header with-border">
                            <h3 class="box-title">Stores</h3>
                        </div>
                        <div class="ui-widget-header ui-helper-clearfix" style="padding:4px 10px;border-bottom: 0 none">
                            <i class="fa fa-search" style="float:left;margin:4px 4px 0 0"></i>
                            <input #gb type="text" pInputText size="22" style="float:left" placeholder="Global Filter">
                        </div>
                        <p-dataTable [value]="alldata" [rows]="20" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]" [globalFilter]="gb" selectionMode="single" [(selection)]="selected" (onRowUnselect)="addNew()">
                            <p-column field="genaratedId" header="Store Id" [sortable]="true"></p-column>
                            <p-column field="storeName" header="Store Name" [sortable]="true"></p-column>
                            <p-column field="storeKeeper" header="Store Keeper" [sortable]="true"></p-column>
                            <p-column field="telephoneNumber" header="Contact No" [sortable]="true"></p-column>
                        </p-dataTable>

                    </div>


                    <div class="panel panel-default">

                        <div class="panel-body"></div>
                    </div>



                </div>


            </div>
        </div>

    </form>


</section>